<html>
    <head>
        <!-- CSS only -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" 
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <link href="weathercite.css" rel="stylesheet">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Rancho&display=swap" rel="stylesheet"> 
    </head>

    <body>
            <div class="hero-image">
                <div class="hero-text">
                    <h1>
                        What's the Temp?
                    </h1>
                    <p>
                        Enjoy this free weather App that allows you to see "whats the temp?" nationwide!
                    </p>
                    
                        <input type ="text" id="zipcode" name="zipcode" value="63116"/>
                        <button type="button" class="btn btn-secondary btn-sm" onclick="loadWeather()">Enter</button>
                        
            
                        <p>
                   
                            Current temperature is <span id="temperature"> </span> &#8457;
                            with a humidity of <span id="humidity"> </span>%
                        </p>
                        <p>
                            Current Windspeed is <span id="speed"> </span>
                        </p>
                </div>
                
                    
            </div>
           
            <div class="row row-cols-1 row-cols-sm-6 g-4">
                <div class="col">
                  <div class="card h-100" id="Chicago">
                    <img src="..." class="card-img-top" alt="...">
                    <div class="card-body">
                      <h5 class="card-title">Temperature in Chicago, IL</h5>
                      <p class="card-text"> </p>
                    </div>
                  </div>
                </div>
                <div class="col">
                  <div class="card h-100" id="LosAngeles">
                    <img src="..." class="card-img-top"  alt="...">
                    <div class="card-body">
                      <h5 class="card-title">Temperature in Los Angeles, CA</h5>
                      <p class="card-text"></p>
                    </div>
                  </div>
                </div>
                <div class="col">
                  <div class="card h-100" id="NewYork">
                    <img src="..." class="card-img-top" alt="...">
                    <div class="card-body">
                      <h5 class="card-title">Temperature in New York City, NY</h5>
                      <p class="card-text"></p>
                    </div>
                  </div>
                </div>
              </div>
        

            <script>
            
                function displayWeather(weather) {
                    var tempElem = document.getElementById('temperature');
                    tempElem.innerText = weather.main.temp;

                    var humidElem = document.getElementById('humidity');
                    humidElem.innerText = weather.main.humidity;

                    var windElem = document.getElementById('speed');
                    windElem.innerText = weather.wind.speed;

                }

                function loadWeather() {
                    var zipcodeInput = document.getElementById('zipcode');
                
                    if (zipcodeInput.value == '') {return;}

                
                    fetch(`https://api.openweathermap.org/data/2.5/weather?zip=${zipcodeInput.value},US&units=imperial&appid=d480fc3689a99c12ed9ffbcba4ed6542`)
                        .then(response => response.json())
                        .then(data => displayWeather(data));
                }

                loadWeather();

                function displayWeatherCity(response, cityCard) {
                  var cardTextElem = cityCard.querySelector('.card-text');
                  var iconURL = `http://openweathermap.org/img/wn/${response.weather[0].icon}@2x.png`
                  cityCard.classList.add(response.weather[0].main);
                  
                  var iconImageElem = cityCard.querySelector('img');
                  iconImageElem.src = iconURL;
                  

                   var tempElem = document.createElement('p');
                   tempElem.appendChild(document.createTextNode(response.main.temp + " â„‰"));
                   cardTextElem.appendChild(tempElem);

                }

                function loadWeatherCity(cityName, cityCard) {

                

                
                    fetch(`http://api.openweathermap.org/data/2.5/weather?q=${cityName}&units=imperial&appid=d480fc3689a99c12ed9ffbcba4ed6542`)
                        .then(response => response.json())
                        .then(data => displayWeatherCity(data, cityCard));
                }

                loadWeatherCity('Chicago',document.getElementById('Chicago'));
                loadWeatherCity('Los Angeles',document.getElementById('LosAngeles'));
                loadWeatherCity('New York',document.getElementById('NewYork'));

            </script>
        

    </body>
</html>